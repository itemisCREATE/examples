<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>[Pro] STM32F407 Discovery Board Using Multi State Machines With Deep C Integration</title>
	<link href="./css/style.css" rel="stylesheet">
	
</head>

<body class="body-container">
	<div class="primary">
		<h1>[Pro] STM32F407 Discovery Board Using Multi State Machines With Deep C Integration</h1>
		<p>
			This is an example for the integration of YAKINDU Statechart Tools with another IDE, here the
			<b>STM32CubeIDE</b>.
			The example model demonstrates the usage of the <b>multi state machines</b> feature together with the
			<b>deep C
				integration</b> to directly call functions from the HAL headers in the statechart model.
		</p>
		<p>
			Additionally, there are significant benefits using multi state machines. Statecharts designed as
			configurable components can be reused for various applications. Reusing statecharts, which are
			already tested and in use, can significantly increase the application's quality. Moreover, changes must be
			handled only at one model, which allows adding new features and bug fixes to multiple applications at once.
		</p>
		<p><img alt="Model" src="images/stm.png" /></p>
		<p>
			This simple state machine consists of two states which control one LED, as defined by the pin
			and port variables. This LED state machine will be used as a submachine. Its configurable parameters will be
			set from the calling state machine (see below). This allows the user to change the port and pin easily.
		</p>
		<img alt="Model" src="images/stm2.png" />
		<p>
			The controller declares the submachines as variables. Each LED (green, orange, red, blue) will be
			paramaterized by setting their port and pin. After this, the submachines are entered. From now on the
			controller can simply raise the events (on, off, toggle) on the submachines.
		</p>

		<h2>Getting started</h2>
		<p>
			The configuration of the STM32F407VG has been realized with the CubeMX tool. The
			configuration can be adapted in the '.ioc' file. For this, a full installation of the STM32CubeIDE is
			required. You can find it <a href="https://www.st.com/en/development-tools/stm32cubeide.html">HERE</a>.
		</p>
		<p>
			After downloading and installing the STM32CubeIDE, YAKINDU Statechart Tools Professional Edition must
			installed via the update
			site. You can follow these <a
				href="https://www.itemis.com/en/yakindu/state-machine/documentation/user-guide/inst_installing_to_an_existing_eclipse_instance">STEPS</a>.
		</p>
		<h2>Configuration</h2>
		<p>
			In this example the configuration is quite simple. Four pins, which are connected to the four mounted LEDs,
			are configured as ouputs. The clock is set to its maximum of 168 MHz and the timer TIM5 works in interrupt
			mode, creating an interrupt every 1 ms, which is later on used for the timer.
			<p><img alt="Model" src="images/stm_configuration.png" /></p>
		</p>
	</div>
</body>

</html>