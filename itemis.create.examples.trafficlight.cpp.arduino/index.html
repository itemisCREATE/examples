<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Traffic Light (C++) for Arduino</title>
<link href="./css/style.css" rel="stylesheet">

</head>
<body class="body-container">
  <div class="primary">

    <h1>Traffic Light (C++) for Arduino</h1>

    <p>Based on the standard traffic light example, this project shows how
      to use a statechart to develop software for the Arduino platform.</p>

    <p>
      <img class="large" alt="The statechart"
        src="images/TrafficLightCtrl.png" />
    </p>

    <p>More information about the statechart itself can be found in the
      standard traffic light example, which should be considered first. In
      summary, we have two traffic lights: one for the traffic on the street,
      and one for pedestrians who want to cross the street. They can push a
      button to request their traffic light to turn green, which activates a
      blinking wait-light first. The street's traffic light then goes through
      the standard procedure, turning on the yellow light, followed by the red
      light, allowing the pedestrians to cross safely. After some time, the
      pedestrians' traffic light turns red again, and the cars are allowed to
      pass until the next request is made by a pedestrian.</p>

    <p>Additionally, the traffic light can be switched off completely. This
      turns the yellow lights into a blinking mode, signaling that the traffic
      light is indeed switched off and that the street should be crossed in a
      careful manner.</p>

      <div>
        <h2>Running the example on the Hardware</h2>
        <p>This video shows how the state machine runs on the example:</p>
        <iframe width="560" height="315" src="https://www.youtube.com/embed/u5mszmWjVoU" frameborder="0" allowfullscreen></iframe>
      </div>

    <div>
      <h2>Building the Hardware</h2>

      <p>
        <img class="small" alt="The circuit needed for the project"
          src="images/screenshot_installhardware.png" />
      </p>

      <p>The correct pins can be found in the arduinoPins.h file.</p>
      <p>Get your parts ready! You will need:</p>

      <ul>
        <li>2 push buttons</li>
        <li>6 LEDs, ideally:
          <ul>
            <li>2x red</li>
            <li>2x green</li>
            <li>1x yellow</li>
            <li>1x white</li>
          </ul>
        </li>
        <li>8 resistors:
          <ul>
            <li>2x 10kR or similar</li>
            <li>6x 220R or similar</li>
          </ul>
        </li>
      </ul>

      <p>Of course, you can change the pins, but since this represents the
        pin numbers in the software, don't forget to change them as well.</p>
    </div>

        <h2>Addons for compiling and flashing</h2>
    <p>All Arduino examples can be compiled via command line or be imported into the Arduino IDE. An easier way is using the <a href="https://eclipse.baeyens.it/">Sloeber plugin</a> , which allows you to compile and upload the code directly in Statechart Tools.
    <h2>How to install the Sloeber plugin</h2>
    <p>
      There are two ways of how to install the plugin. The easiest way is using our example wizard, which allows you installing required plugins. Just follow the built-in instructions. 
    </p>
    <p>
      Another way is installing the plugin manually. You need to follow these steps:
     <ol>
      <li>Click on 'Help' -> 'Install New Software..' -> 'Add...'.</li>
      <li>Define a name and add 'http://eclipse.baeyens.it/update/V4/stable' as location.</li>
      <li>Choose the plugin - not the IDE.</li>
      <li>Follow the instructions</li>
      <li>The installation dialog will ask you for a restart. After this restart is done, the installition it will download some files. Just wait until it's finished</li>
    </ol>
    <h2>Configure the Sloeber plugin</h2>
    <p>
    After the installation you should notice a new Toolbar, which allows you to compile and flash your Arduino.
    Initially, the projects are not configured, as you may require to add the toolchain:
    <ol>
      <li>Click on Window -> Preferences</li>
      <li>Open the Arduino window -> Platforms and Boards</li>
      <li>Depending on your Arduino, choose the board. For the UNO click on arduino -> Arduino AVR -> check out one toolchain</li>
      <li>Click on Apply and Close and wait until the downlaod has been finished</li>
    </ol>
    Some examples may need different libraries. E.g. the LiquidCrystal lib. If so, repeat the steps using the Library Manager and add your required lib.
  </p>
  <h2>Configure the example</h2>
  Once you have installed the toolchain for your Arduino, you can configure the project.
  <ol>
    <li>Right click the project and open the Preference page</li>
    <li>Open the Arduino window</li>
    <li>Choose your platform and port</li>
  </ol>
  There will be a dialog, which warns you that the platform.txt is missing. This is not a problem and will be resolved after the intitial configuration.
  <h2>Compile and upload</h2>
  <p>
  Finally, you can use the green toolbar for compiling and flashing the Arduino. Have fun!
  </p>

</body>
</html>
